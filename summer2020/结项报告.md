# 结项报告

## 项目信息

项目名称：深度学习模型计算图相同子结构的识别和展示

### 方案描述  
基于目前已有的频繁子图挖掘的算法，根据Mindspore计算图的特点，设计和改进算法来实现相同子结构的识别和展示。其中的关键步骤和主要难点有：
 - 设计算法实现对命名空间适当展开深度的选择，以便于后续进行子图同构识别时，将某些命名空间(Scope)当作原子节点以提升效果和性能。
 - 编码实现改进后的频繁子结构检测算法
 - 测试编码实现实现在多个计算图下的性能和效果
 - 对算法和编码实现进行性能和效果调优

### 时间规划  
 - 2020.07.01 - 2020.07.14 **准备阶段**：收集相关资料，调研和评估现主流的频繁子图挖掘的算法。阅读Mindinsight源码,了解与本项目相关的Mindinsight模块功能和实现，设计算法实现对命名空间适当展开深度的选择。
 - 2020.07.15 - 2020.08.14 **实现阶段**：编码实现改进后的频繁子结构检测算法，形成初始版本。
 - 2020.08.15 - 2020.09.09 **测试阶段**：使用Mindspore和Mindinsight，进一步分析需求，对编码实现进行测试。
 - 2020.09.10 - 2020.09.30 **调优阶段**： 根据测试结果，调整算法和实现，形成稳定版本

## 项目总结

- **项目成果**：按照预设方案和时间规划实现了预设需求，并向社区提交：
  - [项目文档](https://loopyme.gitee.io/mindspore_subgraph_detection/)
  - [项目源码](https://isrc.iscas.ac.cn/gitlab/summer2020/students/proj-2017182/-/tree/0.2.0)
  - [项目简述](https://loopyme.gitee.io/mindspore_subgraph_detection/_static/algorithm-PPT.html)　(按照项目要求，同时提交[项目简述PPT]((https://loopyme.gitee.io/mindspore_subgraph_detection/_static/algorithm-PPT.pptx)))
- **遇到的问题及解决方案**：
  - 算法设计存在漏洞，由于项目的算法需要结合其他的单图子图挖掘算法进行调整设计，在前期版本中（`v0.0.1`-`v0.0.3`）均存在明显bug，而在中期版本(`v0.1.0`-`v0.1.2`)中则由于算法设计欠缺考虑使得性能较低，效果较差。在整个版本迭代中，通过功能测试找到了一些bug，并通过网格测试找到了一些可以优化的点，在导师的指导下，参考了相关的文献，对算法进行了调整和重新设计，设计和引入了多种机制，解决了测试中已经暴露的bug和性能缺陷。
  - 测试方面存在缺陷，由于时间限制，没有配置持续集成测试和单元测试，而采用手动的网格测试来对功能和性能进行测试。前期存在测试用例不足的问题，无法获得足够数量的较大的计算图。通过联系导师，获得了一些较大的计算图。后期则基于这些大的计算图，在华为云提供的服务器上，进行了严格的网格测试。